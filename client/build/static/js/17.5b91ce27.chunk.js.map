{"version":3,"sources":["assets/profile.png","Component/UserList/index.js","Component/Chat/index.jsx","Component/Messages/Message/index.js","Component/Messages/index.js","Component/Input/index.js","Component/ChatBox/index.js"],"names":["module","exports","React","memo","users","makeCall","user","connectedUser","disconnect","className","map","name","id","key","src","Profile","alt","style","height","width","includes","onClick","socket","openSocket","Chat","props","useState","setName","yourID","setYourID","room","setRoom","setUsers","msg","setMsg","messages","setMessages","receivingCall","setReceivingCall","callAccepted","setCallAccepted","callerData","setCallerData","showLocalVideo","setShowLocalVideo","setConnectedUser","url","setUrl","play","setPlay","load","setLoad","streamRef","useRef","localVideo","peerRef","remoteVideo","dataChannel","useEffect","location","state","history","push","emit","err","console","log","navigator","mediaDevices","getUserMedia","audio","video","then","stream","current","srcObject","catch","error","alert","on","handleOffer","handleAnswer","handleNewIceCandidateFromCaller","handleNewIceCandidateFromReceiver","loadVideo","off","close","message","handleNegotiationNeededEvent","receiver","a","createOffer","offer","setLocalDescription","caller","signal","localDescription","sendIceCandidateToReceiver","e","candidate","payload","icecandidate","RTCIceCandidate","addIceCandidate","peer","RTCPeerConnection","iceServers","urls","desc","RTCSessionDescription","addEventListener","event","channel","onopen","onmessage","handleData","setRemoteDescription","getTracks","forEach","track","addTrack","onicecandidate","sendIceCandidateToCaller","ontrack","handleTrackEvent","prev","streams","preventDefault","length","send","JSON","stringify","type","videoId","data","parse","temp","filter","ul","userId","userName","createDataChannel","onnegotiationneeded","data-ride","playsInline","muted","controls","ref","autoPlay","createAnswer","answer","playing","onPlay","onPause","playsinline","pip","value","onChange","target","required","placeholder","ChatBox","sendMessage","rel","href","class","Message","text","isSentByCurrentUser","trimmedName","trim","toLowerCase","ReactEmoji","emojify","Date","toLocaleTimeString","toLocaleDateString","Messages","mode","mes","i","onKeyPress","to"],"mappings":"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","file":"static/js/17.5b91ce27.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import React from \"react\";\nimport Profile from \"../../assets/profile.png\";\nconst UserList = ({ users, makeCall, user, connectedUser, disconnect }) => {\n  return (\n    <div>\n      <div className=\"card bg-primary shadow-inset border-light\">\n        <h2 className=\"card-title mx-4 my-3 alert alert-secondary shadow-soft\">\n          <span className=\"font-weight-bold\">\n            <i className=\"las la-wifi la-lg\"></i> User's Online\n          </span>\n        </h2>\n        <div className=\"pb-2\">\n          {users.map(({ name, id }) => (\n            <div key={id}>\n              {user === id ? (\n                <div className=\"card mx-4 my-2 bg-primary shadow-inset\">\n                  <div className=\"text-left lead\">\n                    <img\n                      src={Profile}\n                      className=\"card-img-top rounded\"\n                      alt=\"Wood Portrait\"\n                      style={{ height: \"48px\", width: \"48px\" }}\n                    />{\" \"}\n                    {name}\n                  </div>\n                </div>\n              ) : (\n                <span>\n                  <div className=\"card mx-4 my-1 bg-primary shadow-inset\">\n                    <div className=\"row no-gutters\">\n                      <div className=\"col-6 text-left\">\n                        <div className=\"row no-gutters\">\n                          <div className=\"col-6\">\n                            <img\n                              src={Profile}\n                              className=\"card-img-top rounded\"\n                              alt=\"Wood Portrait\"\n                              style={{ height: \"48px\", width: \"48px\" }}\n                            />\n                          </div>\n                          <div className=\"col-6 pl-1 pt-2 lead\"> {name}</div>\n                        </div>\n                      </div>\n                      <div className=\"col-6 text-right\">\n                        {connectedUser.includes(id) ? (\n                          <button\n                            id={id}\n                            onClick={() => disconnect(id)}\n                            className=\"btn btn-icon-only\"\n                          >\n                            <i className=\"las la-video-slash la-lg text-danger\"></i>\n                          </button>\n                        ) : (\n                          <button\n                            id={id}\n                            onClick={() => makeCall(id, name)}\n                            className=\"btn btn-icon-only \"\n                          >\n                            <i className=\"las la-video la-lg text-secondary\"></i>\n                          </button>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                </span>\n              )}\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default React.memo(UserList);\n","import React, { useState, useEffect, useRef } from \"react\";\nimport \"./style.scss\";\nimport ReactPlayer from \"react-player/lazy\";\nimport ChatBox from \"../ChatBox\";\nimport openSocket from \"socket.io-client\";\nimport UserList from \"../UserList\";\n\n//! Socket Connection For global use\nconst socket = openSocket(\"/\");\n\nconst Chat = (props) => {\n  //! Users and Room Related\n  const [name, setName] = useState(\"\"); //* hold cuurent user name\n  const [yourID, setYourID] = useState(\"\"); //* hold current userId\n  const [room, setRoom] = useState(\"\"); //* hold current room name\n  const [users, setUsers] = useState([]); //* hold all users data\n\n  //! Text Chat Related\n  const [msg, setMsg] = useState(\"\"); //* hold current text input message\n  const [messages, setMessages] = useState([]); //* hold all messages of a room\n\n  //! Video Call Related\n  const [receivingCall, setReceivingCall] = useState(false); //* use to prompt ask user to accept or reject call\n  const [callAccepted, setCallAccepted] = useState(false); //* use to show remote video tag once connection complete\n  const [callerData, setCallerData] = useState({ id: \"\", name: \"\" }); //* hold caller data at receiver end\n  const [showLocalVideo, setShowLocalVideo] = useState(false); //* when local video stream available then use to show local video tag\n  const [connectedUser, setConnectedUser] = useState([]); //* hold list of connected user for video call\n  //! Youtube related\n  const [url, setUrl] = useState(\"\");\n  const [play, setPlay] = useState(false);\n  const [load, setLoad] = useState(false);\n\n  //? useRef for hold data even after re-render\n  const streamRef = useRef(); //? hold local video stream for sending to peerConnection\n  const localVideo = useRef(); //? hold local stream for local video stream object\n  const peerRef = useRef(); //? hold peerConnection Object\n  const remoteVideo = useRef(); //? hold remote user video stream object\n  const dataChannel = useRef(); //? hold dataChannel Event\n\n  useEffect(() => {\n    if (props.location.state.name === \"\" || props.location.state.room === \"\") {\n      props.history.location.push(\"/\");\n    } else {\n      setName(props.location.state.name);\n      setRoom(props.location.state.room);\n      //console.log(socket);\n      socket.emit(\n        \"join\",\n        { name: props.location.state.name, room: props.location.state.room },\n        (err) => {\n          console.log(err);\n        }\n      );\n      //* get local video stream\n      navigator.mediaDevices\n        .getUserMedia({ audio: true, video: true })\n        .then((stream) => {\n          setShowLocalVideo(true);\n          streamRef.current = stream; //? stream=MediaObject()\n          localVideo.current.srcObject = stream;\n        })\n        .catch((err) => {\n          console.error(err);\n          alert(\"Camera Access Denied!\");\n        });\n\n      //* handle socket events for video call related\n      socket.on(\"offer\", handleOffer); //? at receiver end -> when caller call\n      socket.on(\"answer\", handleAnswer); //? at caller end -> when receiver send his answer\n      socket.on(\"ice-candidate-from-caller\", handleNewIceCandidateFromCaller); //? at receiver end -> accept ice candidate\n      socket.on(\n        \"ice-candidate-from-receiver\",\n        handleNewIceCandidateFromReceiver\n      ); //? at receiver end -> accept ice candidate\n    }\n    return () => {\n      loadVideo.current = null;\n      streamRef.current = null;\n      dataChannel.current = null;\n      socket.emit(\"disconnect\");\n      socket.off();\n      if (peerRef.current) {\n        peerRef.current.close();\n      }\n    };\n    // eslint-disable-next-line\n  }, [props.location]);\n\n  //! handle chat messages\n  useEffect(() => {\n    setYourID(socket.id);\n    socket.on(\"message\", (message) => {\n      setMessages([...messages, message]);\n    });\n    socket.on(\"roomData\", ({ users }) => {\n      setUsers(users);\n    });\n    socket.on(\"left\", ({ id }) => {\n      if (callerData.id === id) {\n        setCallAccepted(false);\n        peerRef.current.close();\n      }\n    }); // eslint-disable-next-line\n  }, [messages]);\n  //? send meesage to other users\n  const sendMessage = (e) => {\n    e.preventDefault();\n    if (msg) {\n      socket.emit(\"sendMessage\", msg, () => {\n        setMsg(\"\");\n      });\n    }\n  };\n\n  //! handle Video Call\n\n  //* #### CALLER SIDE PEER CONNECTION LOGICS ####\n  const makeCall = (userId, userName) => {\n    //check if already connected with other\n    if (connectedUser.length > 0) {\n      alert(\"You are already connected with someone first disconnect\");\n      return;\n    }\n\n    //? start peer connection from caller side\n    let receiver = { id: userId, name: userName };\n\n    //?ice servers set of URL's of STUN/TURN Server\n    const configuration = {\n      iceServers: [{ urls: \"stun:stun.l.google.com:19302\" }],\n    };\n    const peer = new RTCPeerConnection(configuration);\n    peerRef.current = peer; //* set peerConnection at caller side for global use\n    //? create data channel\n    dataChannel.current = peerRef.current.createDataChannel(\"datachannel\");\n    if (dataChannel.current) {\n      dataChannel.current.onopen = (e) => {\n        console.log(\"opened at caller\");\n      };\n      dataChannel.current.onmessage = handleData;\n    }\n\n    streamRef.current //* attach caller video stream to peer connection\n      .getTracks() //? => [audioTrack,videoTrack]\n      .forEach((track) => peerRef.current.addTrack(track, streamRef.current)); //? add both tracks as MediaObject type from streamRef\n\n    peerRef.current.onicecandidate = (\n      e //? getting this event from STUN SERVER with ICE-Candidate(e)\n    ) => sendIceCandidateToReceiver(e, receiver); //? send ice candidate to receiver\n\n    //* only at caller side\n    peerRef.current.onnegotiationneeded = () =>\n      //? create and send offer to receiver\n      handleNegotiationNeededEvent(receiver);\n\n    peerRef.current.ontrack = handleTrackEvent; //? handle remote stream once connection established\n  };\n\n  const handleNegotiationNeededEvent = async (receiver) => {\n    try {\n      let offer = await peerRef.current.createOffer(); //* create offer\n      if (offer) {\n        peerRef.current.setLocalDescription(offer); //? save offer data as localDesc\n        let caller = { id: yourID, name: name };\n        let signal = peerRef.current.localDescription; //? get created offer which was save as localDesc\n        socket.emit(\"sendOffer\", { receiver, caller, signal }); //? send offer to receiver end\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  //* start ice candidate handshake at caller side\n  //? send ice candidate from caller to receiver\n  const sendIceCandidateToReceiver = (e, receiver) => {\n    if (e.candidate) {\n      let payload = {\n        receiver,\n        caller: { id: yourID, name: name },\n        icecandidate: e.candidate,\n      };\n      socket.emit(\"send-ice-candidate-to-receiver\", payload);\n    }\n  };\n  //? handle ice-candidate from receiver side and accept it by caller\n  const handleNewIceCandidateFromReceiver = (icecandidate) => {\n    const candidate = new RTCIceCandidate(icecandidate);\n    peerRef.current.addIceCandidate(candidate).catch((e) => console.log(e));\n  };\n  //* ice-candidate handshake complete at caller side\n\n  //* #### CALLER SIDE END ####\n\n  //* #### RECEIVER SIDE PEER CONNECTION LOGICS ####\n  const handleOffer = ({ signal, receiver, caller }) => {\n    //! This initail setup required before waiting for receiver reponse\n\n    setReceivingCall(true); //? show prompt to ask user to accept ot reject call\n    //* save caller information\n    setCallerData({ id: caller.id, name: caller.name });\n\n    //? INIT PeerConnection at Reciever Side\n    //? Ice servers are set of URL's of STUN/TURN Servers which can we created using coturn npm package\n    const configuration = {\n      iceServers: [{ urls: \"stun:stun.l.google.com:19302\" }],\n    };\n    const peer = new RTCPeerConnection(configuration);\n    peerRef.current = peer; //* set receiver peerConnection for global use\n\n    const desc = new RTCSessionDescription(signal); //? save offer as sessionDesc\n\n    //? listen for data channel connection\n    peerRef.current.addEventListener(\"datachannel\", (event) => {\n      dataChannel.current = event.channel;\n      dataChannel.current.onopen = (e) => {\n        console.log(\"open at reciever side\");\n      };\n      dataChannel.current.onmessage = handleData;\n    });\n\n    //? accepting signal save remote user signal\n    peerRef.current.setRemoteDescription(desc).then(() => {\n      //attaching my stream to peer connection\n      streamRef.current //* attach receiver video stream to peer connection\n        .getTracks() //? => [audioTrack,videoTrack]\n        .forEach(\n          (track) => peerRef.current.addTrack(track, streamRef.current) //? add both tracks as MediaObject type from streamRef\n        );\n    });\n    //! Wait to reciever to accept Call\n    //? getting this event from STUN SERVER with ICE-Candidate(e)\n    peerRef.current.onicecandidate = (e) => sendIceCandidateToCaller(e, caller); //? send ice candidate of receiver to caller\n\n    peerRef.current.ontrack = handleTrackEvent; //? handle remote stream once connection established\n  };\n\n  //* Fire When User Accept Call\n  const acceptCall = () => {\n    setReceivingCall(false);\n\n    //* create receiver side offer i.e. answer\n    peerRef.current\n      .createAnswer()\n      .then((answer) => {\n        //? save receiver answer as localDesc\n        return peerRef.current.setLocalDescription(answer);\n      })\n      .then(() => {\n        //? send receive answer back to caller\n        let signal = peerRef.current.localDescription;\n        let caller = { id: callerData.id, name: callerData.name }; //? here caller is who call to receiver\n        let receiver = { id: yourID, name: name }; //? here receiver is who caller call's .i.e. current user\n        socket.emit(\"sendAnswer\", { signal, caller, receiver });\n        setConnectedUser((prev) => [...prev, caller.id]);\n      });\n  };\n\n  //* handle Answer (i.e. receiver offer) and accept answer by caller\n  const handleAnswer = ({ signal, receiver, caller }) => {\n    const desc = new RTCSessionDescription(signal); //? save answer as sessionDesc\n    //? saving answer as remoteDesc\n    peerRef.current.setRemoteDescription(desc).catch((e) => console.log(e));\n    setCallAccepted(true); //? show rermote video tag\n    //? callerData is not usable in caller side so using it for hold receiver data!!\n    //? it will be use to show name of user on remote video tag\n    setCallerData({ id: receiver.id, name: receiver.name }); //? save receiver data\n\n    //?save connected User\n    setConnectedUser((prev) => [...prev, receiver.id]);\n    //* handshake complete\n  };\n\n  //* start ice-candidate handshake from receiver side\n  //? send ice candidate from receiver to caller\n  const sendIceCandidateToCaller = (e, caller) => {\n    if (e.candidate) {\n      let payload = {\n        caller,\n        receiver: { id: yourID, name: name },\n        icecandidate: e.candidate,\n      };\n      socket.emit(\"send-ice-candidate-to-caller\", payload);\n    }\n  };\n  //? handle ice-candidate from caller and accept by receiver\n  const handleNewIceCandidateFromCaller = (icecandidate) => {\n    const candidate = new RTCIceCandidate(icecandidate);\n    peerRef.current.addIceCandidate(candidate).catch((e) => console.log(e));\n  };\n  //* ice-candidate handshake completed\n\n  //* #### RECEIVER SIDE END ####\n\n  //! common for caller and receiver to handle remote stream\n  const handleTrackEvent = (e) => {\n    setCallAccepted(true);\n    remoteVideo.current.srcObject = e.streams[0];\n  };\n  //! video Call disconnect\n  const disconnect = (id) => {\n    dataChannel.current.send(JSON.stringify({ type: \"disconnect\", id: id }));\n    peerRef.current.close();\n    let temp = connectedUser.filter((ul) => ul !== id);\n    setConnectedUser(temp);\n    setCallerData(\"\");\n    setReceivingCall(false);\n    setCallAccepted(false);\n    remoteVideo.current = null;\n    dataChannel.current = null;\n    peerRef.current = null;\n  };\n  //* youtube video related\n  const playVideo = () => {\n    setPlay(true);\n    if (dataChannel.current) {\n      dataChannel.current.send(JSON.stringify({ type: \"play\" }));\n    }\n  };\n  const pauseVideo = () => {\n    setPlay(false);\n    if (dataChannel.current) {\n      dataChannel.current.send(JSON.stringify({ type: \"pause\" }));\n    }\n  };\n  const loadVideo = (e) => {\n    e.preventDefault();\n    if (url.length === 0) {\n      alert(\"URL is Required\");\n      return;\n    }\n    setLoad(true);\n    if (dataChannel.current) {\n      dataChannel.current.send(JSON.stringify({ type: \"load\", videoId: url }));\n    }\n  };\n  const handleData = (e) => {\n    const data = JSON.parse(e.data);\n    console.log(data);\n    if (data.type === \"load\") {\n      setUrl(data.videoId);\n      setLoad(true);\n    } else if (data.type === \"pause\") {\n      setPlay(false);\n    } else if (data.type === \"play\") {\n      setPlay(true);\n    } else if (data.type === \"disconnect\") {\n      peerRef.current.close();\n      let temp = connectedUser.filter((ul) => ul !== data.id);\n      //console.log(temp);\n      setConnectedUser(temp);\n      setCallerData(\"\");\n      remoteVideo.current = null;\n      dataChannel.current = null;\n      peerRef.current = null;\n      setReceivingCall(false);\n      setCallAccepted(false);\n    }\n  };\n  return (\n    <div className=\"m-4\">\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-md-4\">\n            <UserList\n              users={users}\n              disconnect={disconnect}\n              connectedUser={connectedUser}\n              user={yourID}\n              makeCall={makeCall}\n            />\n            <br />\n            {showLocalVideo ? (\n              <div\n                id=\"Carousel1\"\n                className=\"carousel slide shadow-soft border border-light p-2 rounded\"\n                data-ride=\"carousel\"\n              >\n                <div className=\"carousel-inner rounded\">\n                  <div className=\"carousel-item active\">\n                    <h5 className=\"font-weight-bold\">\n                      <i className=\"las la-user-tie la-lg\"></i> {name}\n                    </h5>\n                    <video\n                      playsInline\n                      muted\n                      className=\"d-block w-100\"\n                      controls\n                      ref={localVideo}\n                      autoPlay\n                    />\n                  </div>\n                </div>\n              </div>\n            ) : null}\n            <br />\n            {receivingCall === true ? (\n              <div className=\"lead\">\n                <h6>\n                  <span className=\"font-weight-bold\">{callerData.name}</span> is\n                  calling you.\n                  <span\n                    className=\"btn btn-sm btn-primary text-success\"\n                    onClick={acceptCall}\n                  >\n                    <i className=\"las la-phone-volume la-lg\"></i> Accept\n                  </span>\n                </h6>\n              </div>\n            ) : null}\n          </div>\n          <div className=\"col-md-8\">\n            <div\n              id=\"Carousel1\"\n              className=\"carousel shadow-soft border border-light pl-4 pt-3 pr-4 rounded\"\n              data-ride=\"carousel\"\n            >\n              <div className=\"carousel-inner rounded\">\n                <div className=\"carousel-item active\">\n                  <ReactPlayer\n                    url={\n                      load\n                        ? url\n                        : \"https://twitter.com/i/status/1279147101054623744\"\n                    }\n                    playing={play}\n                    controls\n                    onPlay={playVideo}\n                    onPause={pauseVideo}\n                    playsinline\n                    className=\"d-block w-100\"\n                    pip\n                  />\n                </div>\n              </div>\n              <div className=\"form-group mt-2\">\n                <div className=\"input-group\">\n                  <input\n                    value={url}\n                    onChange={(e) => {\n                      setUrl(e.target.value);\n                    }}\n                    type=\"url\"\n                    required\n                    id=\"url\"\n                    className=\"form-control\"\n                    name=\"url\"\n                    placeholder=\"Enter Youtube URL\"\n                  />\n                  <button\n                    type=\"submit\"\n                    onClick={loadVideo}\n                    className=\"btn btn-sm btn-primary text-secondary\"\n                  >\n                    Load Video\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <hr />\n        <div className=\"row\">\n          <div className=\"col-md-4\">\n            {callAccepted ? (\n              <div\n                id=\"Carousel1\"\n                className=\"carousel slide shadow-soft border border-light p-2 rounded\"\n                data-ride=\"carousel\"\n              >\n                <div className=\"carousel-inner rounded\">\n                  <div className=\"carousel-item active\">\n                    <h5 className=\"font-weight-bold\">\n                      <i className=\"las la-user-tie la-lg\"></i>{\" \"}\n                      {callerData.name}\n                    </h5>\n                    <video\n                      playsInline\n                      ref={remoteVideo}\n                      autoPlay\n                      muted\n                      className=\"d-block w-100\"\n                      controls\n                    />\n                  </div>\n                </div>\n              </div>\n            ) : null}\n          </div>\n          <div className=\"col-md-8\">\n            <ChatBox\n              msg={msg}\n              setMsg={setMsg}\n              sendMessage={sendMessage}\n              room={room}\n              messages={messages}\n              name={name}\n            />\n          </div>\n        </div>\n      </div>\n      <div className=\"container-fluid mt-4 p-4 shadow-inset bg-grey\">\n        <footer className=\"justify-content-center  text-center\">\n          <span className=\"text-warning font-weight-bold\">\n            Under Development\n          </span>\n          <br />\n          <a\n            rel=\"noreferrer noopener\"\n            href=\"https://www.webfx.com/tools/emoji-cheat-sheet/\"\n            className=\"text-dark font-weight-bold\"\n          >\n            Emoji Cheahsheet\n            <span className=\"ml-1\">\n              <i className=\"las la-smile-wink la-lg\"></i>\n            </span>\n          </a>\n          <br />\n          <a\n            rel=\"noreferrer noopener\"\n            className=\"text-info font-weight-bold\"\n            href=\"https://github.com/masterkn48\"\n          >\n            Created By MasterKN <i class=\"lab la-github-alt la-lg\"></i>\n          </a>\n        </footer>\n      </div>\n    </div>\n  );\n};\n\nexport default Chat;\n","import React from \"react\";\nimport ReactEmoji from \"react-emoji\";\nimport \"./style.scss\";\nconst Message = ({ message: { text, user }, name }) => {\n  let isSentByCurrentUser = false;\n  const trimmedName = name.trim().toLowerCase();\n  if (user === trimmedName) {\n    isSentByCurrentUser = true;\n  }\n  return isSentByCurrentUser ? (\n    <div className=\"messageContainer justifyEnd right\">\n      <div className=\"messageBox alert alert-primary text-info messageText\">\n        <span className=\"font-weight-bold\">{trimmedName} :</span>{\" \"}\n        {ReactEmoji.emojify(text)}\n        <br />\n        <small className=\"text-muted\">\n          {new Date().toLocaleTimeString()} {new Date().toLocaleDateString()}\n        </small>\n      </div>\n    </div>\n  ) : (\n    <div className=\"messageContainer pb-2 justifyStart left\">\n      {user === \"Admin\" ? (\n        <div className=\"messageBox alert alert-secondary text-danger messageText\">\n          <span className=\"font-weight-bold\">{user} :</span>{\" \"}\n          {ReactEmoji.emojify(text)}\n          <br />\n          <small className=\"text-muted\">\n            {new Date().toLocaleTimeString()} {new Date().toLocaleDateString()}\n          </small>\n        </div>\n      ) : (\n        <div className=\"messageBox alert alert-secondary text-success messageText\">\n          <span className=\"font-weight-bold\">{user} :</span>\n          {ReactEmoji.emojify(text)}\n          <br />\n          <small className=\"text-muted\">\n            {new Date().toLocaleTimeString()} {new Date().toLocaleDateString()}\n          </small>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Message;\n","import React from \"react\";\nimport Message from \"./Message\";\nimport ScrollToBottom from \"react-scroll-to-bottom\";\nimport \"./style.scss\";\nconst Messages = ({ messages, name }) => {\n  return (\n    <ScrollToBottom\n      mode=\"bottom\"\n      className=\"messages bg-primary shadow-inset rounded pt-4 pb-4\"\n    >\n      {messages.map((mes, i) => (\n        <div key={i}>\n          <Message message={mes} name={name} />\n        </div>\n      ))}\n    </ScrollToBottom>\n  );\n};\n\nexport default Messages;\n","import React from \"react\";\nconst Input = ({ msg, setMsg, sendMessage }) => {\n  return (\n    <div className=\"row\">\n      <div className=\"col-10\">\n        <div className=\"input-group\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text text-warning\">\n              <i className=\"las la-smile la-lg\"></i>\n            </span>\n          </div>\n          <input\n            className=\"form-control\"\n            id=\"message\"\n            type=\"text\"\n            value={msg}\n            onKeyPress={(e) => (e.key === \"Enter\" ? sendMessage(e) : null)}\n            onChange={(e) => setMsg(e.target.value)}\n            placeholder=\"Enter Your Messages\"\n          />\n        </div>\n      </div>\n      <div className=\"col-2\">\n        <button\n          className=\"btn btn-block btn-primary text-success\"\n          onClick={(e) => sendMessage(e)}\n        >\n          <i className=\"las la-paper-plane la-lg\"></i>\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default React.memo(Input);\n","import React from \"react\";\nimport Messages from \"../Messages\";\nimport Input from \"../Input\";\nimport { Link } from \"react-router-dom\";\nconst ChatBox = ({ room, messages, name, msg, setMsg, sendMessage }) => {\n  return (\n    <div className=\"chatbox\">\n      <div className=\"card bg-primary shadow-inset\">\n        <div className=\"card-header py-4 px-5\">\n          <div className=\"row no-gutters px-2 py-2 alert-secondary shadow-soft rounded\">\n            <div className=\"col-4\">\n              <div className=\"text-left text-info lead\">\n                <i className=\"las la-home\"></i> {room}\n              </div>\n            </div>\n            <div className=\"col-4\">\n              <div className=\"text-center lead text-success\">\n                <i className=\"las la-comments la-lg\"></i> Chats\n              </div>\n            </div>\n            <div className=\"col-4\">\n              <div className=\"text-right text-danger lead\">\n                <Link to=\"/\">\n                  <i className=\"las la-sign-out-alt la-lg\"></i>\n                </Link>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"card-body py-4 px-5\">\n          <Messages messages={messages} name={name} />\n          <br />\n          <Input msg={msg} setMsg={setMsg} sendMessage={sendMessage} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ChatBox;\n"],"sourceRoot":""}